<% news_stories.each do |story| %>
  <%= link_to news_story_path(story), class: "block", data: { turbo_frame: "_top" } do %>
    <div class="bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow duration-200 p-4 sm:p-6">
      <!-- Mobile: Vertical Layout, Desktop: Horizontal Layout -->
      <div class="flex flex-col sm:flex-row sm:items-start sm:space-x-4 space-y-3 sm:space-y-0">
        <!-- Image -->
        <div class="flex-shrink-0 w-full sm:w-32 h-48 sm:h-32 bg-gray-200 rounded-lg overflow-hidden">
          <img src="<%= story.display_image_url %>" alt="<%= story.headline %>" class="w-full h-full object-cover">
        </div>

        <!-- Content -->
        <div class="flex-1 min-w-0">
          <!-- Meta Info -->
          <div class="flex flex-wrap items-center gap-x-2 gap-y-1 mb-2">
            <!-- Category Badge -->
            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold <%= case story.category
              when 'technology' then 'bg-blue-100 text-blue-800'
              when 'business' then 'bg-green-100 text-green-800'
              when 'science' then 'bg-purple-100 text-purple-800'
              when 'health' then 'bg-red-100 text-red-800'
              when 'sports' then 'bg-orange-100 text-orange-800'
              when 'entertainment' then 'bg-pink-100 text-pink-800'
              else 'bg-gray-100 text-gray-800'
              end %>">
              <%= case story.category
                  when 'general' then 'ðŸ“°'
                  when 'technology' then 'ðŸ’»'
                  when 'business' then 'ðŸ’¼'
                  when 'science' then 'ðŸ”¬'
                  when 'health' then 'ðŸ¥'
                  when 'sports' then 'âš½'
                  when 'entertainment' then 'ðŸŽ¬'
                  else 'ðŸ“°'
                  end %>
              <span class="ml-1 capitalize"><%= story.category %></span>
            </span>
            <span class="text-xs text-gray-400 hidden sm:inline">â€¢</span>
            <span class="text-xs text-gray-500"><%= story.source %></span>
            <span class="text-xs text-gray-400 hidden sm:inline">â€¢</span>
            <span class="text-xs text-gray-500"><%= time_ago_in_words(story.published_at) %> ago</span>
          </div>

          <!-- Headline -->
          <h4 class="text-lg sm:text-xl font-bold text-gray-900 mb-2 hover:text-blue-600 transition-colors leading-tight">
            <%= story.headline %>
          </h4>

          <!-- Summary -->
          <p class="text-sm sm:text-base text-gray-600 mb-3 line-clamp-2 sm:line-clamp-2">
            <%= story.summary %>
          </p>

          <!-- CTA -->
          <div class="flex items-center space-x-2">
            <span class="text-sm text-blue-600 font-semibold">See 6 perspectives</span>
            <span class="text-blue-600">â†’</span>
          </div>
        </div>
      </div>
    </div>
  <% end %>
<% end %>
