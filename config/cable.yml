# Use Redis for Action Cable in development to support Turbo Streams from background jobs
development:
  adapter: redis
  url: <%= ENV.fetch("REDIS_URL", "redis://localhost:6379/1") %>

test:
  adapter: test

production:
  adapter: redis
  url: <%= ENV.fetch("REDIS_URL", "redis://localhost:6379/1") %>
  channel_prefix: worldviews_production
  # For Heroku Redis with SSL, disable certificate verification
  <% if ENV["REDIS_URL"]&.start_with?("rediss://") %>
  ssl_params:
    verify_mode: <%= OpenSSL::SSL::VERIFY_NONE %>
  <% end %>
